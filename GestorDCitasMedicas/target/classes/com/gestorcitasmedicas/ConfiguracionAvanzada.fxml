<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Font?>

<VBox xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.gestorcitasmedicas.controller.ConfiguracionAvanzadaController" spacing="20" style="-fx-background-color: #f5f5f5; -fx-padding: 20;">
    
    <!-- Título -->
    <HBox alignment="CENTER" style="-fx-background-color: #2c3e50; -fx-padding: 15; -fx-background-radius: 5;">
        <Label text="⚙️ CONFIGURACIÓN AVANZADA" style="-fx-text-fill: white; -fx-font-size: 24; -fx-font-weight: bold;" />
    </HBox>
    
    <ScrollPane fitToWidth="true" style="-fx-background: transparent; -fx-background-color: transparent;">
        <VBox spacing="25">
            
            <!-- Sección de Búsqueda Avanzada -->
            <VBox spacing="10" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                <Label text="🔍 BÚSQUEDA AVANZADA" style="-fx-font-size: 18; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" />
                <Separator />
                
                <GridPane hgap="15" vgap="10">
                    <columnConstraints>
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="100" prefWidth="150" />
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="200" prefWidth="300" />
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="100" prefWidth="150" />
                    </columnConstraints>
                    
                    <!-- Búsqueda de Pacientes -->
                    <Label text="Buscar Pacientes:" GridPane.columnIndex="0" GridPane.rowIndex="0" style="-fx-font-weight: bold;" />
                    <TextField fx:id="txtBuscarPacientes" promptText="Nombre, matrícula o CURP" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                    <Button fx:id="btnBuscarPacientes" text="Buscar" GridPane.columnIndex="2" GridPane.rowIndex="0" style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold;" onAction="#buscarPacientes" />
                    
                    <!-- Búsqueda de Médicos -->
                    <Label text="Buscar Médicos:" GridPane.columnIndex="0" GridPane.rowIndex="1" style="-fx-font-weight: bold;" />
                    <TextField fx:id="txtBuscarMedicos" promptText="Nombre o especialidad" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                    <Button fx:id="btnBuscarMedicos" text="Buscar" GridPane.columnIndex="2" GridPane.rowIndex="1" style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold;" onAction="#buscarMedicos" />
                    
                    <!-- Búsqueda de Consultas -->
                    <Label text="Buscar Consultas:" GridPane.columnIndex="0" GridPane.rowIndex="2" style="-fx-font-weight: bold;" />
                    <TextField fx:id="txtBuscarConsultas" promptText="Diagnóstico o motivo" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                    <Button fx:id="btnBuscarConsultas" text="Buscar" GridPane.columnIndex="2" GridPane.rowIndex="2" style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold;" onAction="#buscarConsultas" />
                </GridPane>
                
                <!-- Resultados de búsqueda -->
                <VBox spacing="10" visible="false" fx:id="vboxResultadosBusqueda">
                    <Label text="Resultados de la búsqueda:" style="-fx-font-weight: bold;" />
                    <TextArea fx:id="txtResultadosBusqueda" editable="false" prefRowCount="8" style="-fx-font-family: 'Consolas'; -fx-font-size: 12;" />
                </VBox>
            </VBox>
            
            <!-- Sección de Temas -->
            <VBox spacing="10" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                <Label text="🎨 TEMAS PERSONALIZABLES" style="-fx-font-size: 18; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" />
                <Separator />
                
                <Label text="Selecciona un tema para personalizar la interfaz:" style="-fx-font-size: 14;" />
                
                <HBox spacing="15" alignment="CENTER">
                    <Button fx:id="btnTemaClaro" text="☀️ Tema Claro" style="-fx-background-color: #ecf0f1; -fx-text-fill: #2c3e50; -fx-font-weight: bold; -fx-padding: 10 20;" onAction="#aplicarTemaClaro" />
                    <Button fx:id="btnTemaOscuro" text="🌙 Tema Oscuro" style="-fx-background-color: #34495e; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20;" onAction="#aplicarTemaOscuro" />
                    <Button fx:id="btnTemaAzul" text="🌊 Tema Azul" style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20;" onAction="#aplicarTemaAzul" />
                    <Button fx:id="btnTemaVerde" text="🌿 Tema Verde" style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20;" onAction="#aplicarTemaVerde" />
                </HBox>
                
                <Label fx:id="lblTemaActual" text="Tema actual: Claro" style="-fx-font-style: italic; -fx-text-fill: #7f8c8d;" />
            </VBox>
            
            <!-- Sección de Estadísticas de Búsqueda -->
            <VBox spacing="10" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                <Label text="📊 ESTADÍSTICAS DE BÚSQUEDA" style="-fx-font-size: 18; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" />
                <Separator />
                
                <GridPane hgap="20" vgap="10">
                    <columnConstraints>
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="150" prefWidth="200" />
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="150" prefWidth="200" />
                    </columnConstraints>
                    
                    <Label text="Total de Pacientes:" GridPane.columnIndex="0" GridPane.rowIndex="0" style="-fx-font-weight: bold;" />
                    <Label fx:id="lblTotalPacientes" text="0" GridPane.columnIndex="1" GridPane.rowIndex="0" style="-fx-text-fill: #27ae60; -fx-font-weight: bold;" />
                    
                    <Label text="Total de Médicos:" GridPane.columnIndex="0" GridPane.rowIndex="1" style="-fx-font-weight: bold;" />
                    <Label fx:id="lblTotalMedicos" text="0" GridPane.columnIndex="1" GridPane.rowIndex="1" style="-fx-text-fill: #3498db; -fx-font-weight: bold;" />
                    
                    <Label text="Total de Consultas:" GridPane.columnIndex="0" GridPane.rowIndex="2" style="-fx-font-weight: bold;" />
                    <Label fx:id="lblTotalConsultas" text="0" GridPane.columnIndex="1" GridPane.rowIndex="2" style="-fx-text-fill: #e74c3c; -fx-font-weight: bold;" />
                    
                    <Label text="Consultas Completadas:" GridPane.columnIndex="0" GridPane.rowIndex="3" style="-fx-font-weight: bold;" />
                    <Label fx:id="lblConsultasCompletadas" text="0" GridPane.columnIndex="1" GridPane.rowIndex="3" style="-fx-text-fill: #27ae60; -fx-font-weight: bold;" />
                </GridPane>
                
                <Button fx:id="btnActualizarEstadisticas" text="🔄 Actualizar Estadísticas" style="-fx-background-color: #f39c12; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20;" onAction="#actualizarEstadisticas" />
            </VBox>
            
        </VBox>
    </ScrollPane>
    
    <!-- Botones de navegación -->
    <HBox spacing="15" alignment="CENTER">
        <Button fx:id="btnRegresar" text="← Regresar" style="-fx-background-color: #95a5a6; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20;" onAction="#regresar" />
        <Button fx:id="btnLimpiarBusqueda" text="🧹 Limpiar Búsqueda" style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20;" onAction="#limpiarBusqueda" />
    </HBox>
    
</VBox>
